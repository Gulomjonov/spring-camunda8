<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL"
                  xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
                  xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
                  xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
                  xmlns:zeebe="http://camunda.org/schema/zeebe/1.0"
                  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                  id="Definitions_1"
                  targetNamespace="http://bpmn.io/schema/bpmn">

    <bpmn:process id="status_check_process" name="Status Check Process" isExecutable="true">

        <bpmn:startEvent id="StartEvent_Status" name="Start" />

        <bpmn:sequenceFlow id="Flow_Start_Gateway" sourceRef="StartEvent_Status" targetRef="Gateway_CheckStatus" />

        <bpmn:exclusiveGateway id="Gateway_CheckStatus" name="Check Status" />

        <!-- ACTIVE PATH -->
        <bpmn:sequenceFlow id="Flow_Active" sourceRef="Gateway_CheckStatus" targetRef="Task_Active">
            <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression" language="feel">
                status = "ACTIVE"
            </bpmn:conditionExpression>
        </bpmn:sequenceFlow>

        <bpmn:serviceTask id="Task_Active" name="Process Active">
            <bpmn:extensionElements>
                <zeebe:taskDefinition type="active-handler"/>
            </bpmn:extensionElements>
        </bpmn:serviceTask>

        <bpmn:sequenceFlow id="Flow_Active_End" sourceRef="Task_Active" targetRef="EndEvent_Status" />


        <!-- INACTIVE PATH -->
        <bpmn:sequenceFlow id="Flow_Inactive" sourceRef="Gateway_CheckStatus" targetRef="Task_Inactive">
            <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression" language="feel">
                status = "INACTIVE"
            </bpmn:conditionExpression>
        </bpmn:sequenceFlow>

        <bpmn:serviceTask id="Task_Inactive" name="Process Inactive">
            <bpmn:extensionElements>
                <zeebe:taskDefinition type="inactive-handler"/>
            </bpmn:extensionElements>
        </bpmn:serviceTask>

        <bpmn:sequenceFlow id="Flow_Inactive_End" sourceRef="Task_Inactive" targetRef="EndEvent_Status" />

        <bpmn:endEvent id="EndEvent_Status" name="End" />

    </bpmn:process>

    <bpmndi:BPMNDiagram id="BPMNDiagram_Status">
        <bpmndi:BPMNPlane id="BPMNPlane_Status" bpmnElement="status_check_process">

            <bpmndi:BPMNShape id="StartEvent_Status_di" bpmnElement="StartEvent_Status">
                <dc:Bounds x="150" y="150" width="36" height="36" />
            </bpmndi:BPMNShape>

            <bpmndi:BPMNShape id="Gateway_CheckStatus_di" bpmnElement="Gateway_CheckStatus" isMarkerVisible="true">
                <dc:Bounds x="260" y="145" width="50" height="50" />
            </bpmndi:BPMNShape>

            <bpmndi:BPMNShape id="Task_Active_di" bpmnElement="Task_Active">
                <dc:Bounds x="370" y="90" width="120" height="60" />
            </bpmndi:BPMNShape>

            <bpmndi:BPMNShape id="Task_Inactive_di" bpmnElement="Task_Inactive">
                <dc:Bounds x="370" y="220" width="120" height="60" />
            </bpmndi:BPMNShape>

            <bpmndi:BPMNShape id="EndEvent_Status_di" bpmnElement="EndEvent_Status">
                <dc:Bounds x="550" y="150" width="36" height="36" />
            </bpmndi:BPMNShape>

            <bpmndi:BPMNEdge id="Flow_Start_Gateway_di" bpmnElement="Flow_Start_Gateway">
                <di:waypoint x="186" y="168" />
                <di:waypoint x="260" y="168" />
            </bpmndi:BPMNEdge>

            <bpmndi:BPMNEdge id="Flow_Active_di" bpmnElement="Flow_Active">
                <di:waypoint x="285" y="145" />
                <di:waypoint x="285" y="120" />
                <di:waypoint x="370" y="120" />
            </bpmndi:BPMNEdge>

            <bpmndi:BPMNEdge id="Flow_Inactive_di" bpmnElement="Flow_Inactive">
                <di:waypoint x="285" y="195" />
                <di:waypoint x="285" y="250" />
                <di:waypoint x="370" y="250" />
            </bpmndi:BPMNEdge>

            <bpmndi:BPMNEdge id="Flow_Active_End_di" bpmnElement="Flow_Active_End">
                <di:waypoint x="490" y="120" />
                <di:waypoint x="568" y="168" />
            </bpmndi:BPMNEdge>

            <bpmndi:BPMNEdge id="Flow_Inactive_End_di" bpmnElement="Flow_Inactive_End">
                <di:waypoint x="490" y="250" />
                <di:waypoint x="568" y="168" />
            </bpmndi:BPMNEdge>

        </bpmndi:BPMNPlane>
    </bpmndi:BPMNDiagram>

</bpmn:definitions>
